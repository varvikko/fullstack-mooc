{"version":3,"sources":["services.js","App.js","index.js"],"names":["baseUrl","getPersons","axios","get","then","response","data","addPerson","name","number","post","deletePerson","id","delete","editPerson","person","put","Person","remove","onClick","Persons","persons","map","key","Filter","text","value","onChange","Notification","notification","className","type","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setNotification","addNotification","clearTimeout","setTimeout","useEffect","service","e","target","onSubmit","p","preventDefault","find","window","confirm","i","findIndex","c","toLowerCase","includes","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.de5da029.chunk.js","sourcesContent":["import axios from 'axios'\n\nvar baseUrl = '/api/persons'\n\nfunction getPersons() {\n    return axios.get(baseUrl)\n        .then(response => response.data)\n}\n\nfunction addPerson(name, number) {\n    return axios.post(baseUrl, {\n        name, number\n      })\n}\n\nfunction deletePerson(id) {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nfunction editPerson(person, number) {\n    return axios.put(`${baseUrl}/${person.id}`, {\n        ...person,\n        number\n    }).then(response => response.data)\n}\n\nexport default {\n    getPersons,\n    addPerson,\n    deletePerson,\n    editPerson\n}\n","import React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport service from './services'\nimport './index.css'\n\nfunction Person({ person, remove }) {\n  return (\n    <p>\n      {person.name} {person.number}\n      <button onClick={() => remove(person)}>delete</button>\n    </p>\n  );\n}\n\nfunction Persons({ persons, remove }) {\n  return persons.map((person) => (\n    <Person key={person.name} person={person} remove={remove} />\n  ));\n}\n\nfunction Filter({ text, value, onChange }) {\n  return (\n    <div>\n      {text} <input value={value} onChange={onChange} />\n    </div>\n  );\n}\n\nfunction Notification({ notification }) {\n  if (!notification) {\n    return null\n  }\n\n  return (\n    <div className={`notification ${notification.type === 'success' ? 'notification--success' : 'notification--error'}`}>\n      { notification.text }\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  var [newNumber, setNewNumber] = useState(\"\");\n  var [filter, setFilter] = useState(\"\");\n  var [notification, setNotification] = useState(null)\n\n  useEffect(() => service.getPersons().then(response => {\n    setPersons(response)\n  }), []);\n\n  function addNotification(text, type) {\n    if (notification) {\n      clearTimeout(notification.id)\n    }\n    var id = setTimeout(() => setNotification(null), 3000)\n    setNotification({ text, type, id })\n  }\n\n  function addPerson(e) {\n    e.preventDefault();\n\n    if ((p = persons.find((person) => person.name === newName))) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        var p\n\n        service.editPerson(p, newNumber).then(response => {\n          var i = persons.findIndex(p => p.name === newName)\n          var c = [...persons]\n\n          c[i].number = response.number\n          setPersons(c)\n          addNotification(`Updated ${newName}'s number`, 'success')\n        })\n      }\n    } else {\n      service.addPerson(newName, newNumber).then(response => {\n        setPersons([...persons, response.data])\n        addNotification(`Added ${newName}`, 'success')\n      })\n    }\n  }\n\n  function removePerson(person) {\n    if (window.confirm(`Delete ${person.name}`)) {\n      service.deletePerson(person.id).then(response => {\n        var c = [...persons].filter((p) => p.id !== person.id)\n        setPersons(c)\n        addNotification(`Removed ${person.name}`, 'success');\n      }).catch(() => {\n        addNotification(`${person.name} is already deleted`, 'error')\n      })\n    }\n  }\n\n  return (\n    <div>\n      <Notification notification={notification} />\n      <h2>Phonebook</h2>\n      <Filter\n        text=\"filter shown with\"\n        value={filter}\n        onChange={(e) => setFilter(e.target.value)}\n      />\n      <h2>add a new</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name:{\" \"}\n          <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input\n            value={newNumber}\n            onChange={(e) => setNewNumber(e.target.value)}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        )} remove={removePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}